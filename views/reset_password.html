{% extends "layout.html" %}

{% block title %}
Reset your password
{% endblock%}

{% block content %}

<div class="container" ng-controller="ResetPasswordCtrl">
  <div class='row' style='margin-bottom: 20px'>
  <h1>Reset your password</h1>
  {% if error_flash %}
    <div class='alert alert-danger'>{{error_flash}}</div>
  {% else %}

  <form ng-submit="submit()" name="resetPasswordForm" role="form" method="post" style="max-width: 300px;" novalidate><br>
    <input name="token" ng-model="token" type="text" style="display:none" data-value="{{token}}">
    {% raw %}
    <div class="form-group">
      <label for='password'>New Password</label>
      <input ng-required="true" ng-model="password" equals="{{verifyPassword}}" type="password" name="password" placeholder="New Password" class="form-control">
    </div>
    <div class="form-group">
      <label for='verifyPassword'>Verify Password</label>
      <input ng-required="true" ng-model="verifyPassword" name="verifyPassword" equals="{{password}}" type="password" placeholder="Verify Password" class="form-control">
    </div>
    <p ng-show="resetPasswordForm.$invalid" class="error">Both fields must match</p>
    <p>{{ responseText }}</p>
    <button ng-disabled="resetPasswordForm.$invalid" type="submit" class="btn btn-primary">Submit</button>
    {% endraw %}
  </form>
  {% endif %}
  </div>
</div>

{% endblock %}
